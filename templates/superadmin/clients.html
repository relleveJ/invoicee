{% extends 'base.html' %}
{% block content %}
<h1>All Clients</h1>
<form method="get">
  <input type="text" name="q" value="{{ q }}" placeholder="Search clients" />
  <input type="text" name="user" value="{{ user_filter }}" placeholder="User ID" />
  <button type="submit">Filter</button>
</form>
<table>
  <tr><th>Client</th><th>User</th><th>Email</th><th>Created</th></tr>
  {% for c in page_obj.object_list %}
  <tr>
    <td>{{ c.name }}</td>
    <td>{{ c.user.username }}</td>
    <td>{{ c.email }}</td>
    <td>{{ c.created_at }}</td>
  </tr>
  {% empty %}
  <tr><td colspan="4">No clients found.</td></tr>
  {% endfor %}
</table>
<div>
  {% if page_obj.has_previous %}<a href="?page={{ page_obj.previous_page_number }}">Prev</a>{% endif %}
  Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
  {% if page_obj.has_next %}<a href="?page={{ page_obj.next_page_number }}">Next</a>{% endif %}
</div>
{% endblock %}
